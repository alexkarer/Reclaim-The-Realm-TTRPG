<div class="mx-2">
    <app-dynamic-content [content]="spellsJson.spellsDescription | keywordProcessor"></app-dynamic-content>
    <h3 class="mb-1 mt-3">Casting Spells</h3>
    <div class="mx-2">
        <app-dynamic-content [content]="spellsJson.castingSpells.castingSpellsDescription | keywordProcessor"></app-dynamic-content>
        <h5 class="mt-2">Spell Arcana Cost</h5>
        <div class="d-flex justify-content-center text-center">
            <table class="rules-table-50">
                <thead>
                    <tr>
                        <th scope="col">Spell Power</th>
                        <th scope="col">[ARCANA] Cost</th>
                    </tr>
                </thead>
                <tbody>
                    @for (spellArcanaCost of spellsJson.castingSpells.spellArcanaCost; track $index) {
                        <tr>
                            <td>{{ spellArcanaCost.spellPower }}</td>
                            <td>{{ spellArcanaCost.arcanaCost }}</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>

        <h4 class="mb-0 mt-3">Spell Tests</h4>
        <div>
            <app-dynamic-content [content]="spellsJson.castingSpells.spellcastingTests.spellcastingTestsdescription | keywordProcessor"></app-dynamic-content>
            
            <div class="row">
                <div class="col-6">
                    <div class ="p-2 border bg-body-tertiary mt-3">
                        <h5 class="mb-2 mt-3" ngbScrollSpyFragment="spell-test">Spell Test</h5>
                        <p class="header-subscript">Keyword: [SPELL TEST]</p>
                        <app-dynamic-content [content]="spellsJson.castingSpells.spellcastingTests.spellTestDescription | keywordProcessor"></app-dynamic-content>
                    </div>
                    <div class ="p-2 border bg-body-tertiary mt-3">
                        <h5 class="mb-2 mt-3" ngbScrollSpyFragment="melee-spell-attack">Melee Spell Attack</h5>
                        <p class="header-subscript">Keyword: [MELEE SPELL ATTACK]</p>
                        <app-dynamic-content [content]="spellsJson.castingSpells.spellcastingTests.meleeSpellAttackDescription | keywordProcessor"></app-dynamic-content>
                    </div>
                </div>
                <div class="col-6">
                    <div class ="p-2 border bg-body-tertiary mt-3">
                        <h5 class="mb-2 mt-3" ngbScrollSpyFragment="ranged-spell-attack">Ranged Spell Attack</h5>
                        <p class="header-subscript">Keyword: [RANGED SPELL ATTACK]</p>
                        <app-dynamic-content [content]="spellsJson.castingSpells.spellcastingTests.rangedSpellAttackDescription | keywordProcessor"></app-dynamic-content>
                    </div>
                    <div class ="p-2 border bg-body-tertiary mt-3">
                        <h5 class="mb-2 mt-3" ngbScrollSpyFragment="concentration-test">Concentration Test</h5>
                        <p class="header-subscript">Keyword: [CONCENTRATION TEST]</p>
                        <app-dynamic-content [content]="spellsJson.castingSpells.spellcastingTests.concentrationTestDescription | keywordProcessor"></app-dynamic-content>
                    </div>
                </div>
            </div>
        </div>

        <h4 class="mb-2 mt-3">Upcasting Spells</h4>
        <app-dynamic-content [content]="spellsJson.castingSpells.upcastingSpells.upcastingSpellsDescription | keywordProcessor"></app-dynamic-content>
        <div class="d-flex justify-content-center text-center">
            <table class="rules-table-50">
                <thead>
                    <tr>
                        <th scope="col">Spell Power</th>
                        <th scope="col">Upcasting DC</th>
                    </tr>
                </thead>
                <tbody>
                    @for (upcastingSpellDC of spellsJson.castingSpells.upcastingSpells.upcastingSpellDC; track $index) {
                        <tr>
                            <td>{{ upcastingSpellDC.spellPower }}</td>
                            <td>{{ upcastingSpellDC.upcastingDC }}</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>

        <h4 class="mb-2 mt-3">Spell Components</h4>
        <app-dynamic-content [content]="spellsJson.castingSpells.spellComponents | keywordProcessor"></app-dynamic-content>

        <h4 class="mb-2 mt-3">Spell Disciplines</h4>
        <app-dynamic-content [content]="spellsJson.castingSpells.spellDisciplinesDescription | keywordProcessor"></app-dynamic-content>
        <div class="d-flex flex-column align-items-center">
            @for (spellDiscipline of spellsJson.castingSpells.spellDisciplines; track $index) {
                <div class ="p-2 border bg-body-secondary mt-3 text-center desktop-width-50 ">
                        <h5>{{ spellDiscipline.majorDisciplineName }}</h5>
                        <app-dynamic-content [content]="spellDiscipline.majorDisciplineDescription | keywordProcessor"></app-dynamic-content>
                        @for (subDiscipline of spellDiscipline.subDisciplines; track $index) {
                            <div class ="p-2 border bg-body-tertiary mt-3 text-center">
                                <span>{{ subDiscipline.subDisciplineName }}</span>
                                <br>
                                <app-dynamic-content [content]="subDiscipline.subDisciplineDescription| keywordProcessor"></app-dynamic-content>
                            </div>
                        }
                </div>
            }
        </div>

        <h4 class="mb-2 mt-3">Learning New Spells</h4>
        <app-dynamic-content [content]="spellsJson.castingSpells.learningNewSpells.learningNewSpellsDescription | keywordProcessor"></app-dynamic-content>
        <div class="d-flex justify-content-center text-center">
            <table class="rules-table-50">
                <thead>
                    <tr>
                        <th scope="col">[SPELL LEVEL]</th>
                        <th scope="col">Maximum Spell Power</th>
                    </tr>
                </thead>
                <tbody>
                    @for (spellLevelRequirement of spellsJson.castingSpells.learningNewSpells.spellLevelRequirement; track $index) {
                        <tr>
                            <td>{{ spellLevelRequirement.spellLevel }}</td>
                            <td>{{ spellLevelRequirement.maxSpellPower }}</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
    <h3 class="mt-3 mb-1" ngbScrollSpyFragment="1st-power-spells">First Power Spells</h3>
    <app-spell-list [spellCollection]="firstPowerSpells"></app-spell-list>

    <h3 class="mt-3 mb-1" ngbScrollSpyFragment="2nd-power-spells">Second Power Spells</h3>
    <app-spell-list [spellCollection]="secondPowerSpells"></app-spell-list>

    <h3 class="mt-3 mb-1" ngbScrollSpyFragment="3rd-power-spells">Third Power Spells</h3>
    <app-spell-list [spellCollection]="thirdPowerSpells"></app-spell-list>

    <h3 class="mt-3 mb-1" ngbScrollSpyFragment="4th-power-spells">Fourth Power Spells</h3>
    <app-spell-list [spellCollection]="fourthPowerSpells"></app-spell-list>

    <h3 class="mt-3 mb-1" ngbScrollSpyFragment="5th-power-spells">Fifth Power Spells</h3>
    <app-spell-list [spellCollection]="fifthPowerSpells"></app-spell-list>

    <h3 class="mt-3 mb-1" ngbScrollSpyFragment="6th-power-spells">Sixth Power Spells</h3>
    <app-spell-list [spellCollection]="sixthPowerSpells"></app-spell-list>
</div>