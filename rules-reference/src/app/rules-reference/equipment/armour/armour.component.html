<div>
    <app-dynamic-content [content]="armourRules.armourDescription | keywordProcessor"></app-dynamic-content>

    <h4 class="mb-1 mt-2">Armour Properties</h4>
    @for (armourProperty of armourRules.armourProperties; track $index) {
        <h5 class="mt-2 mb-0">{{ armourProperty.name }}</h5>
        <app-dynamic-content [content]="armourProperty.description | keywordProcessor"></app-dynamic-content>
    }

    <h4 class="mb-1 mt-2">Armour Quality</h4>
    <app-dynamic-content [content]="armourRules.armourQuality.armourQualityDescription | keywordProcessor"></app-dynamic-content>
    <div class="mt-2 d-flex justify-content-center">
        <table class="rules-table-50">
            <thead>
                <tr>
                    <th scope="col">Quality</th>
                    <th scope="col">Modifier</th>
                    <th scope="col">Price</th>
                </tr>
            </thead>
            <tbody>
                @for (armourQuality of armourRules.armourQuality.armourQualities; track $index) {
                    <tr>
                        <td>{{ armourQuality.quality }}</td>
                        <td><app-dynamic-content [content]="armourQuality.modifier  | keywordProcessor"></app-dynamic-content></td>
                        <td>{{ armourQuality.price }}</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>

    <h4 class="mb-1 mt-2">Armour Size</h4>
    <app-dynamic-content [content]="armourRules.armourSizeDescription | keywordProcessor"></app-dynamic-content>

    <h4 class="mb-1 mt-2">Looting Armour</h4>
    <app-dynamic-content [content]="armourRules.lootingArmourDescription | keywordProcessor"></app-dynamic-content>

    <h5 class="mb-1 mt-2">Refitting Armour</h5>
    <app-dynamic-content [content]="armourRules.refittingArmourDescription | keywordProcessor"></app-dynamic-content>


    <h4 class="mb-1 mt-2">Armour Types</h4>
    <div class="d-flex justify-content-center">
        <table class="rules-table-75">
            <thead>
                <tr>
                    <th scope="col">Armour Type</th>
                    <th scope="col">Tier</th>
                    <th scope="col">Damage Block</th>
                    <th scope="col">Manoeuvre Penalty</th>
                    <th scope="col">Movement Penalty</th>
                    <th scope="col">Weight</th>
                    <th scope="col">Cost</th>
                </tr>
            </thead>
            <tbody>
                @for (armour of armours; track $index) {
                    <tr>
                        <td>{{ armour.name }}</td>
                        <td>{{ armour.tier }}</td>
                        <td>{{ armour.damageBlock?.amount + ' ' + armour.damageBlock?.type }}</td>
                        <td>{{ armour.manoeuvrePenalty === 0 ? '-' : armour.manoeuvrePenalty }}</td>
                        <td>{{ armour.movementPenalty === 0 ? '-' : armour.movementPenalty }}</td>
                        <td>{{ armour.getPrettyWeightString() }}</td>
                        <td>{{ armour.cost.getPrettyString() }}</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>